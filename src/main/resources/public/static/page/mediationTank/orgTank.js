define("page/mediationTank/orgTank",["require","exports","module","components/jquery/jquery","page/header/pages"],function(a,e,o){var t=a("components/jquery/jquery");a("page/header/pages");var n=function(){var a=this;a.init(),a.doPage()};n.prototype.init=function(){t.ajax({url:"/findCityByParent",type:"get"}).done(function(a){1==a.code&&t.each(a.data,function(a,e){t("#_city").append(e.areaCode==t("#_areaVal").val()?'<li><a class="on" href="javascript:void(0);" data-code="'+e.areaCode+'" title="'+e.areaName+'">'+e.areaName+"</a></li>":'<li><a href="javascript:void(0);" data-code="'+e.areaCode+'" title="'+e.areaName+'">'+e.areaName+"</a></li>")})})},n.prototype.doPage=function(){var a=t("#totalPage").val(),e=t("#pageNumber").val();t(".pages").pagination({pageCount:a,coping:!0,current:e,homePage:"首页",endPage:"末页",prevContent:"上页",nextContent:"下页",callback:function(a){i(a)}})};var i=function(a){var e=t("#_keyword").val(),o=t("#_orgTypeVal").val(),n=t("#_areaVal").val();location.href="/organ/list?orgType="+o+"&keyword="+e+"&areaCode="+n+"&pageNumber="+a};t(document).on("click","#_chooseCity",function(){var a=t(this).data("flag");0==a?(t(this).siblings(".choose-city").show(),t(this).find(".arrow-down").addClass("rotate"),t(this).data("flag",1)):(t(this).siblings(".choose-city").hide(),t(this).find(".arrow-down").removeClass("rotate"),t(this).data("flag",0))}),t(document).on("click","#_search",function(){i(1)}),t(document).on("click","#_orgType a",function(){t("#_orgTypeVal").val(t(this).data("code")),i(1)}),t(document).on("click","#_city li a",function(){t("#_areaVal").val(t(this).data("code")),i(1)}),o.exports=n});